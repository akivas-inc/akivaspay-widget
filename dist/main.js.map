{"mappings":"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","sources":["akivaspay_widegt/src/index.js","akivaspay_widegt/src/helpers.js","akivaspay_widegt/src/translations.js"],"sourcesContent":["import { STATUS_OF_REQUEST, formatCurrency, WidgetData, fallback_locale, supported_locales, widgetHeader, timerSection, Localization, createPrivateStore } from \"./helpers.js\";\nimport styles from './styles.css';\n\nconst _ = createPrivateStore();\n\nexport class AkivasPayWidget {\n    constructor(shopSubscriptionKey, locale = fallback_locale) {\n        _(this).shopSubscriptionKey = shopSubscriptionKey;\n        _(this).baseUrl = \"https://api.apay.akivaspay.com/\";\n        _(this).success = false;\n        _(this).requestStatus = STATUS_OF_REQUEST.NOT_STARTED;\n        _(this).timeExpired = false;\n        _(this).errorMessage = '';\n        _(this).locale = locale;\n        _(this).apayContainer;\n        _(this).modal;\n        _(this).widgetData = new WidgetData();\n        _(this).checkTransactionInterval;\n        _(this).timerInterval;\n        _(this).localization = new Localization(locale);\n        _(this).events = {\n            'apay-transaction-success': []\n        };\n\n        if (locale in supported_locales) {\n            _(this).locale = locale;\n        }\n        else {\n            _(this).locale = fallback_locale;\n        }\n        \n        _(this).apayContainer = document.createElement('div');\n        this.initWidget();\n    }\n\n    initWidget() {\n        _(this).apayContainer.innerHTML = '<div class=\"akivas-pay-modal\" id=\"akivaspayModal\" data-animation=\"slideInOutLeft\"></div>';\n        document.querySelector('body').appendChild(_(this).apayContainer);\n        _(this).modal = document.getElementById(\"akivaspayModal\");\n    }\n\n    regenerateCodeClickEventListener() {\n        const regenerateBtn = document.getElementById('apay-regenerate');\n        if (regenerateBtn != null && _(this).timeExpired) {\n            regenerateBtn.addEventListener('click', () => {\n                this.regenerate();\n            });\n        }\n    }\n\n    closeClickEventListener() {\n        const closeElts = Object.values(document.getElementsByClassName('apay-close-widget'));\n        if (closeElts.length > 0) {\n            closeElts.forEach(el => {\n                el.addEventListener('click', () => {\n                    this.closeWidget();\n                })\n            });\n        }\n        \n    }\n\n    updateWidget() {\n        _(this).modal.innerHTML = this.getWidget();\n        this.closeClickEventListener();\n    }\n\n    showModal() {\n        _(this).modal.innerHTML = this.getWidget();\n        this.closeClickEventListener();\n    }\n\n    async regenerate() {\n        _(this).timeExpired = false;\n        _(this).success = false;\n        _(this).errorMessage = '';\n        this.generate(_(this).widgetData.name, _(this).widgetData.external_id, _(this).widgetData.amount, _(this).widgetData.description);\n    }\n\n    async generate(name, external_id, amount, description = '') {\n        _(this).requestStatus = STATUS_OF_REQUEST.LOADING;\n        _(this).modal.classList.add('visible');\n        this.showModal();\n        const data = {\n            \"name\": name,\n            \"uuid\": external_id,\n            \"amount\": amount,\n            \"description\": description\n        };\n\n        try {\n            const response = await fetch(_(this).baseUrl + 'generate/qrcode', {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\",\n                    \"Accept-Language\": _(this).locale,\n                    \"Shop-Subscription-Key\": _(this).shopSubscriptionKey\n                },\n                body: JSON.stringify(data),\n            });\n            \n            if (response.ok) {\n                response.json().then((json) => {\n                    _(this).widgetData = new WidgetData(\n                        json.image,\n                        json.domain,\n                        json.link,\n                        name,\n                        amount,\n                        description,\n                        external_id\n                    );\n                    _(this).requestStatus = STATUS_OF_REQUEST.WAITING;\n                    this.updateWidget();\n                    var timer = document.getElementById('timer');\n                    timer.textContent = 30 + \":\" + 0;\n                    this.startTimer();\n                    this.checkTransactionStatus(json.uuid);\n                });\n                \n            }\n            else {\n                response.json().then((json) => {\n                    _(this).requestStatus = STATUS_OF_REQUEST.FAILED;\n                    _(this).errorMessage = json.message;\n                    this.updateWidget();\n                });\n                \n            }\n        }\n        catch (e) {\n            if (e.message === 'Failed to fetch') {\n                _(this).errorMessage = _(this).localization.get('failed-to-fetch');\n            }\n            else {\n                _(this).errorMessage = _(this).localization.get('unknow-error-message');\n            }\n            _(this).requestStatus = STATUS_OF_REQUEST.FAILED;\n            this.updateWidget();\n        }\n        \n    }\n\n    getWidget() {\n        const timerHTML = timerSection(_(this).timeExpired, _(this).requestStatus, _(this).localization);\n        let $content = `\n            <div class=\"apay-center-content\" style=\"visibility: ${_(this).requestStatus === STATUS_OF_REQUEST.LOADING ? 'visible' : 'hidden'}\">\n                <div id=\"apay-loading\"></div>\n            </div>\n            <div class=\"apay-center-content\" style=\"text-align: center; color: red; visibility: ${_(this).requestStatus === STATUS_OF_REQUEST.FAILED ? 'visible' : 'hidden'}\">\n                ${_(this).errorMessage}\n            </div>\n            <div data-animation=\"slideInOutLeft\" class=\"apay-widget apay-overflow-scroll-container\" style=\"visibility: ${_(this).requestStatus === STATUS_OF_REQUEST.WAITING ? 'visible' : 'hidden'}\">\n                <div id=\"apBox\">\n                    ${ widgetHeader(timerHTML) }\n                    <div id=\"apPrice\">\n                        <div>\n                            <p id=\"apScantoPayText\" style=\"font-weight: 400; color: 989898\">\n                                ${ _(this).localization.get('scan-to-pay') }\n                            </p>\n                    \n                            <p id=\"apTo\" style=\"font-weight: 300\">\n                                <strong style=\"font-weight: 400; color: 607d8b\">${_(this).widgetData.domain}</strong>\n                            </p>\n                        </div>\n                        <div style=\"color: black\">\n                            <span style=\"font-size: 20px; font-weight: 400\"> ${formatCurrency(_(this).widgetData.amount)}</span>\n                            <sup style=\"font-weight: 500\">FCFA</sup>\n                        </div>\n                    </div>\n                    <div id=\"apBoxBody\">\n                        <h1 class=\"apay-qr-name\">${_(this).widgetData.name}</h1>\n                        <div id=\"apQrcodeBox\">\n                            <img src=\"${_(this).widgetData.image}\" alt=\"qrcode\" style=\"visibility: ${(!_(this).timeExpired && _(this).requestStatus === STATUS_OF_REQUEST.WAITING) ? 'visible' : 'hidden'}\"/>\n                        </div>\n                        <a id=\"howToPay\" href=\"https://akivaspay.com/client-documentation/web-payment\" target=\"_blank\">${ _(this).localization.get('how-to-pay') }</a>\n                        <a href=\"${_(this).widgetData.link}\" class=\"apay-button\" target=\"_blank\">\n                            ${ _(this).localization.get('open-in-wallet') }\n                        </a>\n                        <br />\n                    </div>\n                </div>\n            </div>\n        `;\n\n        if (_(this).success) {\n            $content = `\n                <div class=\"apay-widget\">\n                    <div id=\"apBox\">\n                        ${ widgetHeader(timerHTML) }\n                        <div id=\"apay-success-content\">\n                            <div class=\"apay-success-checkmark\">\n                                <div class=\"check-icon\">\n                                    <span class=\"icon-line line-tip\"></span>\n                                    <span class=\"icon-line line-long\"></span>\n                                    <div class=\"icon-circle\"></div>\n                                    <div class=\"icon-fix\"></div>\n                                </div>\n                            </div>\n                            <h3 class=\"apay-text-success\">Sucessfull purchase</h3>\n                            <a href=\"#\" class=\"apay-sucess-button apay-close-widget\">\n                                ok\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            `;\n        }\n        else if (_(this).timeExpired) {\n            $content = `\n                <div class=\"apay-widget\">\n                    <div id=\"apBox\">\n                        ${ widgetHeader(timerHTML) }\n                        <div id=\"apPrice\">\n                            <div>\n                                <p id=\"apScantoPayText\" style=\"font-weight: 400; color: 989898\">\n                                    ${ _(this).localization.get('scan-to-pay') }\n                                </p>\n                        \n                                <p id=\"apTo\" style=\"font-weight: 300\">\n                                    <strong style=\"font-weight: 400; color: 607d8b\"\n                                    >${_(this).widgetData.domain}</strong\n                                    >\n                                </p>\n                            </div>\n                            <div style=\"color: black\">\n                                <span style=\"font-size: 20px; font-weight: 400\"> ${formatCurrency(_(this).widgetData.amount)}</span>\n                                <sup style=\"font-weight: 500\">FCFA</sup>\n                            </div>\n                        </div>\n                        <div id=\"apBoxBody\">\n                            <div id=\"apQrcodeBox\">\n                                <span style=\"color: red;\">\n                                    ${ _(this).localization.get('qr-code-expired') }\n                                </span>\n                            </div>\n                            <a href=\"#\" id=\"apay-regenerate\" class=\"apay-button\">\n                                ${ _(this).localization.get('regenerate') }\n                            </a>\n                            <br />\n                        </div>\n                    </div>\n                </div>\n            `;\n        }\n        else if (_(this).requestStatus == STATUS_OF_REQUEST.CANCEL) {\n            return '';\n        }\n\n        return `\n            <div>\n                <button id=\"apay-close-btn\" class=\"apay-close-widget\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                </button>\n                <div>\n                ${ $content }\n                </div>\n            </div>\n        `;\n    }\n\n    checkTransactionStatus(uuid) {\n        _(this).checkTransactionInterval = setInterval(async () => {\n            if (_(this).timeExpired && _(this).checkTransactionInterval !== null) {\n                clearInterval(_(this).checkTransactionInterval);\n                return;\n            }\n            var response = await fetch(_(this).baseUrl + 'find/transaction/' + uuid + \"?filter_by=uuid\", {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\",\n                    \"Accept-Language\": _(this).locale,\n                    \"Shop-Subscription-Key\": _(this).shopSubscriptionKey\n                }\n            });\n            \n            if (response.status == 200) {\n                response.json().then((json) => {\n                    if (json.success == true) {\n                        _(this).success = true;\n                        _(this).timeExpired = false;\n                        _(this).requestStatus = STATUS_OF_REQUEST.SUCCESS;\n                        this.updateWidget();\n                        this.emit('apay-transaction-success', json.transaction);\n                        clearInterval(_(this).checkTransactionInterval);\n                    }\n                    \n                });\n                \n            }\n            else {\n                response.json().then((json) => {\n                    _(this).requestStatus = STATUS_OF_REQUEST.FAILED;\n                    _(this).errorMessage = json.message;\n                    this.updateWidget();\n                    clearInterval(_(this).checkTransactionInterval);\n                });\n                \n            }\n\n        }, 2500);\n    }\n\n    startTimer() {\n        _(this).timerInterval = setInterval(() => {\n            try {\n                let timer = document.getElementById('timer').innerHTML;\n                let timeArray = timer.split(/[:]+/);\n                let m = parseInt(timeArray[0]);\n                let s = AkivasPayWidget.formatSeconds(parseInt((timeArray[1] - 1)));\n                if (s === '59') {\n                    m = m - 1;\n                }\n\n                if (_(this).success) {\n                    clearInterval(_(this).timerInterval);\n                }\n                if (m < 0 || ( m === 0 && s === '00')) {\n                    clearInterval(_(this).timerInterval);\n                    _(this).timeExpired = true;\n                    this.updateWidget()\n                    document.getElementById('timer').textContent = \"\";\n                    this.regenerateCodeClickEventListener();\n                }\n                else {\n                    document.getElementById('timer').textContent = m.toString() + \":\" + s.toString();\n                    let percent = (m / 30) * 100;\n                    document.getElementById('apTimerMovement').style.width = percent + \"%\";\n                }\n                \n            } catch (e) {}\n        }, 800);\n        \n    }\n\n    static formatSeconds(sec) {\n        if (sec < 10 && sec >= 0) {\n            sec = \"0\" + sec;\n        }\n        if (sec < 0) {\n            sec = \"59\";\n        }\n        return sec;\n    }\n\n    closeWidget() {\n        _(this).requestStatus = STATUS_OF_REQUEST.CANCEL;\n        _(this).modal.classList.remove('visible');\n\n        if (_(this).checkTransactionInterval) {\n            clearInterval(_(this).checkTransactionInterval);\n        }\n\n        if (_(this).timerInterval) {\n            clearInterval(_(this).timerInterval);\n        }\n        \n        _(this).timeExpired = false;\n        _(this).success = false;\n\n        setTimeout(() => {\n            _(this).modal.innerHTML = '';\n        }, 1000)\n        \n    }\n\n    on(event, listener) {\n        if (!(event in _(this).events)) {\n            _(this).events[event] = [];\n        }\n        _(this).events[event].push(listener);\n    }\n\n    emit(event, ...args) {\n        if (!(event in _(this).events)) {\n            return;\n        }\n        _(this).events[event].forEach(listener => listener(...args));\n    }\n}\n\nmodule.exports = AkivasPayWidget;","import { Localization } from \"./translations.js\";\n\nconst STATUS_OF_REQUEST = Object.freeze({\n    NOT_STARTED: 'not started',\n    WAITING: 'waiting',\n    LOADING: 'loading',\n    FAILED: 'failed',\n    SUCCESS: 'success',\n    CANCEL: 'cancel'\n});\n\nconst supported_locales = ['en', 'fr'];\nconst fallback_locale = 'en';\nconst formatCurrency = (number, separator) => {\n    if (number) {\n        let splitArray = number.toString().split('.')\n        let decimalPart = ''\n        if (splitArray.length > 1) {\n            number = splitArray[0]\n            decimalPart = '.' + splitArray[1]\n        }\n        let formattedNumber = number.toString().replace(/\\D/g, \"\");\n        let rest = formattedNumber.length % 3;\n        let currency = formattedNumber.substr(0, rest);\n        let thousand = formattedNumber.substr(rest).match(/\\d{3}/g);\n\n        if (thousand) {\n            separator = rest ? separator ? separator : \",\" : \"\";\n            currency += separator + thousand.join(\",\");\n        }\n\n        return currency + decimalPart;\n    } else {\n        return \"0\";\n    }\n}\n\nclass WidgetData {\n    constructor(image, domain, link, name, amount, description, external_id){\n        Object.assign(this, { image, domain, link, name, amount, description, external_id });\n    }\n}\n\nconst widgetHeader = (content = '') => `\n    <div id=\"apBoxHeader\">\n        <div id=\"apLogo\">\n            <div id=\"apLogoCircle\">\n                <a href=\"https://akivaspay.com\" target=\"_blank\">\n                    <img src=\"https://akivaspay.com/images/AKIVASPAY.png\" alt=\"AkivasPay\" />\n                </a>\n            </div>\n            <div id=\"apLogoText\">AkivasPay</div>\n        </div>\n        ${content}\n    </div>\n`;\n\nconst timerSection = (expired, requestStatus, localization) => `\n    <div id=\"apTimer\" style=\"background-color: ${ expired ? 'red' : '#3cb364'}\">\n        ${ \n            expired == true ? \n            `\n                <span id=\"apTimerText\">\n                    <span id=\"apTimerText-left\"> ${ localization.get('qr-code-expired') }</span>\n                    <span id=\"apTimerText-right\"> \n                        <span id=\"timer\"></span> \n                    </span>\n                </span>\n            ` : requestStatus == STATUS_OF_REQUEST.WAITING ?\n            `\n                <span id=\"apTimerMovement\"></span>\n                <span id=\"apTimerText\">\n                    <span id=\"apTimerText-left\"> ${ localization.get('awaiting-payment') } </span>\n                    <span id=\"apTimerText-right\"> \n                        <span id=\"timer\"></span> \n                    </span>\n                </span>\n            ` : ''\n        }\n    </div>\n`;\n\nfunction createPrivateStore () {\n    let store = new WeakMap();\n    return function (inst) {\n        let obj = store.get(inst);\n        if (!obj) {\n            obj = {};\n            store.set(inst, obj);\n        };\n        return obj;\n    };\n}\n\nexport {\n    STATUS_OF_REQUEST,\n    formatCurrency,\n    WidgetData,\n    supported_locales,\n    fallback_locale,\n    widgetHeader,\n    timerSection,\n    Localization,\n    createPrivateStore\n}","const translations = {\n    \"en\": {\n        \"qr-code-expired\": \"The Qrcode has expired\",\n        \"scan-to-pay\": \"Scan to pay\",\n        \"open-in-wallet\": \"Open in Wallet\",\n        \"how-to-pay\": \"How do i pay?\",\n        \"awaiting-payment\": \"Awaiting Payment ...\",\n        \"successful-purchase-msg\": \"The payment has been successfully completed\",\n        \"regenerate\": \"regenerate\",\n        \"failed-to-fetch\": \"The widget failed to load, check your Internet connection.\",\n        \"unknow-error-message\": \"Something went wrong, please try again later\"\n    },\n    \"fr\": {\n        \"qr-code-expired\": \"Le Qrcode a expiré\",\n        \"scan-to-pay\": \"Scannez pour payer\",\n        \"open-in-wallet\": \"Ouvrir dans le portefeuille\",\n        \"how-to-pay\": \"Comment payer ?\",\n        \"awaiting-payment\": \"En attente de paiement...\",\n        \"successful-purchase-msg\": \"Le paiement a été effectué avec succès\",\n        \"regenerate\": \"régénérer\",\n        \"failed-to-fetch\": \"Le chargement du widget a échoué, vérifiez votre connexion Internet.\",\n        \"unknow-error-message\": \"Quelque chose s'est mal passé, veuillez réessayer plus tard\"\n    }\n};\n\nexport class Localization {\n    constructor(locale) {\n        this.locale = locale;\n    }\n\n    get(key){\n        return translations[this.locale][key];\n    }\n}\n"],"names":[],"version":3,"file":"main.js.map"}